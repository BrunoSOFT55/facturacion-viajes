<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b1f3a">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<title>Comprobante de Servicio - Altamirano Nosiglia Viajes</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
:root{
 --azul:#0b1f3a;
 --azul2:#162f5f;
 --gris:#f3f5f8;
}

body{
 background:#dde3ee;
 font-family:'Segoe UI',sans-serif;
 padding-top:60px;
}

.app-bar{
 position:fixed;
 top:0; left:0;
 width:100%;
 height:55px;
 background:var(--azul);
 color:#fff;
 display:flex;
 align-items:center;
 justify-content:center;
 font-weight:700;
 z-index:9999;
}

.factura-box{
 max-width:600px;
 margin:auto;
 background:#fff;
 padding:20px;
 border-radius:18px;
 box-shadow:0 12px 30px rgba(0,0,0,.15);
}

input,select{
 font-size:16px!important;
 padding:14px!important;
 border-radius:12px!important;
}

.total-box{
 margin:20px 0;
 background:#f3f5f8;
 border:2px solid var(--azul2);
 padding:16px;
 border-radius:14px;
 font-size:22px;
 font-weight:800;
 color:var(--azul2);
}

.botones-finales{
 display:grid;
 grid-template-columns:1fr;
 gap:12px;
}

@media(min-width:768px){
 body{padding-top:0}
 .app-bar{display:none}
 .botones-finales{grid-template-columns:repeat(3,1fr)}
}
</style>
</head>

<body>

<div class="app-bar">FACTURACIÓN</div>

<div class="factura-box">

<h5>Cliente</h5>
<input id="cliente" class="form-control mb-2" placeholder="Nombre y Apellido">
<input id="telefono" class="form-control mb-2" placeholder="Teléfono">

<h5>Servicio</h5>
<input id="desc" class="form-control mb-2" placeholder="Detalle">
<input id="precio" type="number" class="form-control mb-2" placeholder="Importe">

<button onclick="agregar()" class="btn btn-success w-100 mb-3">Agregar</button>

<table class="table table-sm">
<thead><tr><th>Detalle</th><th class="text-end">Importe</th></tr></thead>
<tbody id="tabla"></tbody>
</table>

<div class="total-box text-end">TOTAL $ <span id="total">0.00</span></div>

<div class="botones-finales">
<button onclick="nuevaFactura()" class="btn btn-outline-danger">Nueva</button>
<button onclick="guardarHistorial()" class="btn btn-secondary">Guardar</button>
<button onclick="window.print()" class="btn btn-dark">PDF</button>
</div>

</div>

<footer class="text-center text-secondary mt-4">
<small>Rodríguez Bruno – Técnico en Desarrollo de Software</small>
</footer>

<script>
let total=0;

function agregar(){
 if(!desc.value||!precio.value) return;
 let p=parseFloat(precio.value);
 total+=p;
 tabla.innerHTML+=`<tr><td>${desc.value}</td><td class="text-end">$ ${p.toFixed(2)}</td></tr>`;
 totalSpan();
 desc.value=""; precio.value="";
}

function totalSpan(){
 document.getElementById("total").innerText=total.toFixed(2);
}

function nuevaFactura(){
 if(!confirm("¿Nueva factura?")) return;
 tabla.innerHTML="";
 total=0;
 totalSpan();
}

function guardarHistorial(){
 let hist=JSON.parse(localStorage.getItem("historial")||"[]");
 hist.push({cliente:cliente.value,total:total.toFixed(2),fecha:new Date().toLocaleDateString()});
 localStorage.setItem("historial",JSON.stringify(hist));
 alert("Factura guardada");
}
</script>

<script>
if('serviceWorker' in navigator){navigator.serviceWorker.register('service-worker.js')}
</script>

</body>
</html>




