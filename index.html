<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Comprobante de Servicio - Altamirano Nosiglia Viajes</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
:root{
 --azul:#0b1f3a;
 --azul2:#162f5f;
 --gris:#f3f5f8;
}

body{background:#dde3ee;font-family:'Segoe UI',sans-serif;}

.factura-box{
 max-width:950px;margin:auto;background:#fff;padding:40px;border-radius:14px;
 box-shadow:0 18px 40px rgba(0,0,0,.18);border-top:12px solid var(--azul);
}

.encabezado{display:flex;justify-content:space-between;border-bottom:2px solid var(--azul);padding-bottom:18px;margin-bottom:30px;}
.encabezado img{max-height:90px}
.marca{font-size:24px;font-weight:800;color:var(--azul);}
.sub{font-size:13px;color:#666}
.factura-titulo{color:var(--azul2);font-weight:700}

.table thead{background:var(--azul2);color:#fff}
.total-box{background:#f3f5f8;border:2px solid var(--azul2);padding:18px;border-radius:10px;font-size:24px;font-weight:800;color:var(--azul2)}

.btn-success{background:var(--azul);border:none}
.btn-success:hover{background:var(--azul2)}
.no-print{}
@media print{body{background:#fff}.no-print{display:none!important}}
</style>
</head>

<body>

<div class="container mt-4">
<div class="factura-box">

<div class="encabezado">
<img src="logo.png">
<div class="text-end">
<div class="marca">ALTAMIRANO NOSIGLIA VIAJES</div>
<div class="sub">Solari – Corrientes</div>
<div class="factura-titulo">COMPROBANTE DE SERVICIO</div>
<input type="date" id="fecha" class="form-control form-control-sm mt-2 no-print">
</div>
</div>

<h5>Datos del Cliente</h5>
<div class="row g-2">
 <div class="col-md-5"><input id="cliente" class="form-control" placeholder="Nombre y Apellido"></div>
 <div class="col-md-3"><input id="dni" class="form-control" placeholder="DNI / CUIT"></div>
 <div class="col-md-2"><input id="telefono" class="form-control" placeholder="Teléfono"></div>
</div>

<h5>Detalle del Servicio</h5>
<div class="row g-2 mb-3 no-print">
 <div class="col-md-6"><input id="desc" class="form-control" placeholder="Detalle del servicio"></div>
 <div class="col-md-3"><input id="precio" type="number" class="form-control" placeholder="Importe"></div>
 <div class="col-md-3 d-grid gap-2">
   <button onclick="agregar()" class="btn btn-success">Agregar</button>
   <button onclick="enviarWhats()" class="btn btn-outline-primary">Enviar por WhatsApp</button>
 </div>
</div>

<table class="table table-bordered" id="tabla">
<thead><tr><th>Detalle</th><th class="text-end">Importe</th></tr></thead>
<tbody></tbody>
</table>

<div class="total-box text-end">TOTAL $ <span id="total">0</span></div>

<div class="text-end mt-4 no-print">
<button onclick="guardarHistorial()" class="btn btn-secondary">Guardar Historial</button>
<button onclick="window.print()" class="btn btn-success">Imprimir / PDF</button>
</div>

</div>
</div>

<script>
let total=0;

function agregar(){
 let d=desc.value;
 let p=parseFloat(precio.value);
 if(!d||!p) return;
 total+=p;
 tabla.querySelector("tbody").innerHTML+=`<tr><td>${d}</td><td class='text-end'>$${p.toFixed(2)}</td></tr>`;
 document.getElementById("total").innerText=total.toFixed(2);
 desc.value=""; precio.value="";
}

function enviarWhats(){
 let c=cliente.value;
 let t=telefono.value;
 let f=fecha.value;
 let msg=`Hola ${c}, te enviamos el comprobante de Altamirano Nosiglia Viajes.\nFecha: ${f}\nTotal: $${total}`;
 window.open("https://wa.me/54"+t+"?text="+encodeURIComponent(msg));
}

function guardarHistorial(){
 let hist=JSON.parse(localStorage.getItem("historial")||"[]");
 hist.push({cliente:cliente.value,total:total,fecha:fecha.value});
 localStorage.setItem("historial",JSON.stringify(hist));
 alert("Factura guardada en historial");
}
</script>

</body>
</html>

